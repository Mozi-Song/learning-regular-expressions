# learning-regular-expressions
Notes of 正则表达式必知必会

# 第一章 正则表达式入门
### 1. 正则表达式的两种基本用途是什么？
搜索和替换。

### 2. 搜索的惯常含义是什么，“相等”测试本质上是一种什么操作？
搜索的惯常含义是寻找一个匹配的子字符串。
“相等”测试本质上是一种搜索。

### 3. 正则表达式的起源和发展历史是怎样的？
正则表达式起源于20世纪50年代数学领域的一些研究工作。几年后，计算机领域借鉴这些工作的思路和成果开发出了Unix世界里的Perl语言和grep等工具。

多年间，正则表达式仅限于Unix社群，但现在情况发生了变化，几乎所有的计算平台都以不同形式对正则表达式提供支持。

### 4. 正则表达式是什么？
是一些用来匹配和处理文本的字符串。

### 5. 各种正则表达式的“祖师爷”是谁？
是Perl，其他大多数实现都试图与Perl兼容。正则表达式支持是Perl的核心内容。


# 第二章 匹配单个字符
### 1. 哪个特殊字符可以匹配任意单个字符？
.
### 2. 元字符是什么，表示什么？
元字符有特殊含义，代表的不是字符本身，如"."。可以在字符前加上\（反斜杠）进行转义。
### 3. 正则表达式里\字符的用法是什么？
\总是出现在具有特殊含义字符序列的开头，如.表示匹配任意单个字符，\.表示匹配.字符本身。\后面的序列可以由一个或多个字符构成。

# 第三章 匹配一组字符
### 1. 元字符 [ ] 的含义是什么？
[ ] 定义一个字符集合，必须匹配其中某个成员。
### 2. 如何排除某些字符？
可通过元字符^来排除某个字符集合，如［^0-9]
# 第四章 使用元字符
### 1. 空白元字符都有哪些，代表什么含义？
| 元字符          | 说明               |
| :------------- | :----------------:| 
| [\b]            | 回退（backspace）   | 
| \f             | 换页符              |
| \n             | 换行符              |
| \r             | 回车符              |
| \t             | 制表符（Tab）        |
| \v             | 垂直制表符           |


### 2. 与换行有关的符号有哪些，代表什么含义？
| 元字符          | 说明               |
| :------------- | :----------------:| 
| \r             | 将光标移到当前行的开始，不进行到下一行   | 
| \n             | 将光标移到下一行，不移到行首   | 

（参考来源https://knowledge.ni.com/KnowledgeArticleDetails?id=kA00Z0000019KZDSA2）
The Carriage Return ("CR") character (0x0D, \r) moves the cursor to the beginning of the line without advancing to the next line. This character is used as the new line character in Commodore and Early Macintosh operating systems (Mac OS 9 and earlier).

 The Line Feed ("LF") character (0x0A, \n) moves the cursor down to the next line without returning to the beginning of the line. This character is used as the new line character in Unix based systems (Linux, macOS X, Android,etc).

 The End of Line ("EOL") character (0x0D0A, \r\n) is actually two ASCII characters and is a combination of the CR and LF characters. It moves the cursor both down to the next line and to the beginning of that line. This character is used as the new line character in most other non-Unix operating systems, including Microsoft Windows and Symbian OS.
 
 ### 3. 应如何同时匹配Windows和Linux的空白行？
 Windows系统使用的文本行结束标记是\r\n，而Unix/Linux及Mac OSX只使用\n。
 理想的正则表达式应该能适应这种情况：包含一个可选的\r和必须匹配的\n。
 ### 4. 什么是类元字符，它们是不是必要的？
 类元字符代表一些常用的字符集合，它不是必不可少的，总能通过逐一列举有关字符或定义字符区间来实现相同的效果。不过类元字符在实践中极其有用。
 ### 5. 与数字有关的类元字符有哪些？
| 元字符          | 说明               |
| :------------- | :----------------:| 
| \d             | 任何一个数字字符（等价于[0-9]）   | 
| \D             | 任何一个非数字字符（等价于[^0-9]) |
 ### 6. 与字母数字有关的类元字符有哪些？
| 元字符          | 说明               |
| :------------- | :----------------:| 
| \w             | 任何一个字母数字字符或下划线字符（等价于[a-zA-Z0-9_]）   | 
| \W             | 任何一个非字母数字字符或下划线字符（等价于[^a-zA-Z0-9_]) |
 ### 7. 与空白字符有关的类元字符有哪些？
| 元字符          | 说明               |
| :------------- | :----------------:| 
| \s             | 任何一个空白字符（等价于[\f\n\r\t\v]）   | 
| \S             | 任何一个非空白字符（等价于[^\f\n\r\t\v]）  |

注：用来匹配退格字符的[\b]元字符不在\s的覆盖范围内，\S也没有将其排除。
### 8. 正则表达式里可以有十六进制值吗？如何用十六进制值匹配数字5？
可以，十六进制值以\x开头。可用\x35匹配数字5。
### 9.正则表达式里可以有八进制值吗？如何用八进制匹配制表符？如何用八进制值匹配数字5？
可以，八进制值以\0开头。可用\011（对应ASCII字符9，也就是制表符）匹配制表符；用\065匹配数字5。
### 10.POSIX字符类有哪些？使用时应该注意什么？
| 字符类          | 说明               |
| :------------- | :----------------:| 
| `[:alnum:]`      | 任何一个字母或数字（等价于`[a-zA-Z0-9]`）  | 
| `[:alpha:]`      | 任何一个字母（等价于`[a-zA-Z]`）  | 
| `[:blank:]`      | 空格或制表符（等价于`[\t ]`(注意`\t`后有个空格）  | 
| `[:cntrl:]`      | ASCII控制字符（ASCII 0到31，再加上ASCII 127）  | 
| `[:digit:]`      | 任何一个数字（等价于`[0-9]`）  | 
| `[:graph:]`      | 和`[:print:]`一样，但不包含空格  | 
| `[:lower:]`      | 任何一个小写字母（等价于`[a-z]`）  | 
| `[:print:]`      | 任何一个可打印字符  | 
| `[:punct:]`      | 既不属于`[:alnum:]`，也不属于`[:cntrl:]`的任何一个字符  | 
| `[:space:]`      | 任何一个空白  | 
| `[:upper:]`      | 任何一个大写字母（等价于`[A-Z]`）  | 
| `[:xdigit:]`     | 任何一个十六进制数字（等价于`[a-fA-F0-9]`）  | 

# 第5章 重复匹配
### 1.如何匹配一次或多次重复？
使用`+`元字符。
### 2.如何匹配a@b.c这样的电子邮件地址？
`\w+@\w+.\w+`
### 3.如何进一步匹配a.b@c.d.e（可能有多个.）这样的电子邮件地址，应注意什么？
`\w+[\w.]\*@\w+[\w.]+\w+`
如果将[\w.]+作为这个模式的最后一部分，会匹配到不需要的句号，如
`Send an email to ben.forta@forta.com.`
### 4.如何匹配0个或多个字符，如何理解这个元字符？
`\*`匹配0个或多个字符。可理解为一个“make it optional"的元字符，即可以匹配多次也可以一次都不匹配。

### 6.如何匹配0个或1个字符，这个元字符适合哪种应用场景？
用`?`元字符。适合匹配一段文本中某个特定的可选字符。
### 7.如何解决4.3中匹配Windows和Linux空行的问题？此处如何处理字符集合与?元字符的关系？
用`[\r]?\n`匹配。
此处`[\r]?`与`\r?`完全等价，把`\r`单个字符定义为一个字符集合只是为了增加可读性、避免误解。需要注意?字符应放在字符集合的外面，即`http[s]?://`是正确的而`http[s?]://`不正确。
### 8.如何指定重复次数的范围？
用`{}`指定，如`{3}`指匹配前一个字符（或字符集合）3次，而`{4,10}`指匹配4-10次，`{4,}`至少匹配4次。
### 9.如何使用8中的元字符匹配RGB值（如#d0f4e6）？
`#[A-Za-z0-9]{6}`
### 10.如何匹配“至少重复多少次”（即n到无穷次）？
`{n,}`
### 11.贪婪型(greedy)量词是什么，有哪些？
贪婪型两次的匹配行为是多多益善而不是适可而止。它们会尽可能地从文本开头一直匹配到末尾，而不是遇到第一个匹配时就停止。
贪婪型量词有：`+, \*, {n,}`。
### 12.什么是过度匹配？
过度匹配会包含我们想要的文本，但同时也会夹杂其他文本。如我们想匹配html文件中`<b>`标签中的文本，使用`<[Bb]>.*<\/[Bb]>`会匹配到以下文本

`This offer is not available to customers living in *<b>AK</b> and <b>HI</b>*.`
### 13.懒惰型量词是什么，用来解决什么问题？举例说明。
懒惰型量词会匹配尽可能少的字符，而非尽可能多地去匹配。懒惰型量词的写法是贪婪型量词的后面加上一个`?`。
| 贪婪型量词          | 懒惰型量词               |
| :------------- | :----------------:| 
| `*`             | `*?`   | 
| `+`             | `+?`   | 
| `{n,}`             | `{n,}?`   | 
# 第6章 位置匹配
### 1.如何匹配单词边界？这个元字符的意义是什么，它具体匹配什么？
可以用`\b`匹配边界。`\b`匹配一个单词的开头或结尾。
它具体匹配的是字符之间的一个位置：一边是单词（能被`\w`匹配的字母、数字和下划线），一边是其它内容（能被`\W`匹配的字符）。
### 2.`\bcat\b`这个模式匹配到的是几个字符？
`\b`匹配到的是位置而不是实际字符，所以`\bcat\b`匹配到的字符串长度是3个字符（`c, a, t`）而不是5个。
### 3.如何在下列字符串中匹配到前后都有多余空格的连字符，解释其匹配原理：Please enter the nine-digit id as it appears on your color - coded pass-key.
`\B-\B`
`\B`可以匹配非单词边界的字符。此处表达式可以匹配`color - coded`但不能匹配`nine-digit`和`pass-key`，因为`-`和空格都属于`\W`。
### 4.\b既可以匹配单词开头也能匹配单词结尾，有没有更精确的控制方法？有何局限？
有些正则表达式的实现支持另外两个字符：`\<`（只匹配单词开头）和`\>`（只匹配单词结尾）。支持它们的正则表达式引擎有限（`egrep`支持）。
### 5.如何匹配字符串的开头和结尾？
`^`代表字符串开头，`$`代表字符串结尾。
### 6.如何区分`^`元字符的两种用法？
出现在`[`和`]`之间且紧跟在`[`后面时表示排除；出现在字符集合之外且位于模式开头时匹配字符串的起始位置。
### 7.模式 ^.\*$ 几乎总能找到一个匹配，在什么情况下它会找不到任何匹配？
`.`不匹配line break，所以在多于一行时找不到任何匹配（非标准答案）
### 8.如何开启多行模式，它适用于什么场景？
